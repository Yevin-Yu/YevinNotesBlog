---
title: 前端最佳实践（Frontend Performance Best Practices）
createTime: 2024/11/22 22:35:21
permalink: /article/p65abaid/
tags:
  - 前端优化
sticky: 999
---
`前端最佳实践，总结了很多前端开发中，能够帮助我们提升代码质量，优化性能，提高用户体验的规则。`
<!-- more -->
> 来源：[Frontend Performance Best Practices](https://roadmap.sh/best-practices/frontend-performance)

> Github：[developer-roadmap](https://github.com/kamranahmedse/developer-roadmap)



前端最佳实践，总结了很多前端开发中，能够帮助我们提升代码质量，优化性能，提高用户体验的规则。我们可以日常开发中，尽量遵循这些规则，提升自己的开发水平和代码质量。

本文大部分内容 [ Frontend Performance Best Practices ] 文章翻译 ，部分内容根据个人理解添加。如有错误，欢迎留言指正，多谢！

<div style="text-align: center; margin: 12px 40px;">
    <img  src="@source/Blog/前端优化/images/image3.png" alt="PNG">
</div>

对其他内容有兴趣的可以访问原网站查看更多。

## 高优先级

   
### 避免使用 iframes

尽量避免使用 iframe ，除非没有其他替代方案可用。 iframe 不仅会影响性能，还会影响可访问性和用户体验。此外，搜索引擎也无法对 iframe 内容进行索引。



###  压缩 CSS - 删除注释、空格等多余内容

1. 在生产环境中，所有 CSS 文件都应该压缩，并且删除 注释、空格等。

2. 压缩过的 CSS 文件更小，可以提高页面的加载速度。如果是访问量较大的网站，还可以有效降低带宽和服务器资源成本。

3. 在构建或部署之前或期间，可以使用工具自动压缩文件。常用的 Vue 、React 项目，使用构建工具打包时，会自动压缩 CSS 文件。

如下，是常用的 CSS 压缩工具：

- [cssnano: A modular minifier based on the PostCSS ecosystem.](https://cssnano.github.io/cssnano/) 自动化压缩 CSS 文件，支持多种插件，可以根据需求选择使用。
- [CSS Minifier- Online CSS Compressor](https://goonlinetools.com/css-minifier/) 在线压缩 CSS 文件，无需下载安装。
  


###  非阻塞 CSS

所有 CSS 文件都应非阻塞加载，以避免在加载 CSS 时阻塞 HTML 解析。我们可以通过将 CSS 文件放在 HTML 文档的 `<head>` 标签中，并使用 `rel="preload"` 属性来实现。

```html
<link rel="preload" href="styles.css" as="style">
```
- `preload` 指示浏览器在页面加载时提前加载指定的资源
- `as="style"` 可以告诉浏览器这个预加载的资源是一个样式表，浏览器可以更好地优化加载过程。

相关文档：[MDN-链接类型：preload](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Attributes/rel/preload)



###  关键内联 CSS

将关键 CSS 内联到 HTML 中（比如首屏页面），可以避免在加载 CSS 文件时阻塞 HTML 解析。

- 关键 CSS：关键 CSS 是指在用户首次加载页面时，浏览器需要立即渲染的 CSS。这些样式通常用于页面的首屏展示内容，即用户在首次进入页面不滚动的情况下可以看到的部分。

- 内联关键 CSS：将关键 CSS 直接嵌入到 HTML 文档中，而不是通过外部 CSS 文件加载。这种做法可以减少 HTTP 请求的数量，因为浏览器不需要单独请求 CSS 文件，从而加快页面的渲染速度。

我们还可以借助压缩工具，进一步压缩内联 CSS，减少文件大小，提高加载速度。

```html
<!-- 首屏 -->
<style>
 /* ... 这里写首屏使用CSS */
</style>
<body>
  <!-- 首屏内容 -->
</body>
```
可以借助工具，将首屏 CSS 提取出来，内联到 HTML 中。

- [Critical 提取首屏CSS 插件](https://github.com/addyosmani/critical)


### 避免嵌入/内联 CSS

分离 html 与 css 是一个良好的实践。有助于提高代码的可维护性，并保持网站的可访问性。可以减少 HTML 页面文件的大小和加载时间。

因此建议始终使用外部样式表或在 `<head>` 中嵌入 CSS（并遵循其他 CSS 性能规则）。避免在 `<body>` 内联 CSS 和 使用 行内式 CSS。

下面为详细说明：

- 分离内容与设计：将 HTML（内容）与 CSS（样式）分开，可以使代码更清晰、更易于管理。这样，我们可以更方便地更新样式而不需要修改 HTML 结构。
- 可维护性：当样式集中在外部样式表中时，维护和更新变得更加简单。我们只需修改一个文件，而不是在多个 HTML 文件中查找和替换内联样式。
- 可访问性：良好的结构和分离的样式可以提高网站的可访问性，使得使用辅助技术的用户（如屏幕阅读器）能够更好地理解和使用网站。
- 性能：内联 CSS 会增加 HTML 文件的大小，从而影响加载时间。使用外部样式表可以减少 HTML 文件的大小，因为样式只需在一个地方定义，并且可以被多个页面共享。
- HTTP/2 的例外：虽然在 HTTP/2 中，内联 CSS 的性能影响有所减小，但仍然建议遵循最佳实践，以保持代码的整洁和可维护性。

### 分析样式表的复杂性

分析 CSS 文件的大小和复杂性，去除可能存在的冗余和重复性选择器，以及可能验证错误。


- 分析样式表：定期分析 CSS 文件可以帮助我们识别潜在的问题，例如冗余的代码、重复的选择器和验证错误。这种分析可以提高代码的质量和性能。

- 冗余和验证错误：冗余指的是重复的样式定义，这不仅增加了文件的大小，还可能导致样式冲突。验证错误则是指不符合 CSS 规范的代码，这可能导致样式在不同浏览器中的表现不一致。

- 提高性能：通过去除冗余和复杂性，CSS 文件的大小可以减小，从而提高加载速度。浏览器在解析和渲染页面时，处理更简洁的 CSS 文件会更高效。

- 组织 CSS：良好的组织结构使得 CSS 更易于维护和理解。使用 CSS 预处理器（如 SASS 或 LESS）可以帮助我们更好地组织样式，提供变量、嵌套和模块化等功能，从而提高开发效率。

我们可以在线工具帮助我们分析和修正 CSS 代码。这些工具可以自动检测冗余、错误和不符合规范的代码，帮助开发者优化样式表。

[CSS 代码质量检测](https://www.projectwallace.com/)：可以输入网址，自动分析 CSS 代码，并给出优化建议。

<div style="text-align: center; margin: 12px 40px;">
    <img  src="@source/Blog/前端优化/images/image2.png" alt="PNG">
</div>


除此之外，我们还可以借助定义常用样式表帮我们分离常用样式，减少冗余。可以查看相关内容：[前端开发中的CSS优化 - 使用常用样式类 ](/article/qychf8ov/)

### 压缩图片/减少图片数量

尽量使用经过优化的图片，并且压缩后对用户没有直接影响。优化后的图片可以显著减少页面加载时间，从而提高用户体验。


- 图像优化：优化图像是指通过压缩和调整图像格式来减少文件大小，而不显著影响图像质量。这可以提高网页加载速度，改善用户体验。

- 加载速度和数据消耗：优化后的图像可以更快地加载，减少用户在浏览网页时的数据消耗。这对于移动设备用户尤其重要，因为他们的网络带宽可能有限。

- 使用 CSS3 效果：在可能的情况下，使用 CSS3 效果（如渐变、阴影和动画）可以替代小图像。这不仅可以减少图像数量，还可以提高页面的灵活性和可维护性。

- 使用字体代替图像文本：如果图像中包含文本，尽量使用网页字体而不是将文本嵌入图像中。这样可以提高可访问性和搜索引擎优化（SEO），同时减少图像文件的大小。

- 使用 SVG：SVG（可缩放矢量图形）是一种基于 XML 的图像格式，适合用于图标和简单图形。SVG 文件通常比位图图像（如 JPEG 或 PNG）更小，并且可以无损缩放，适应不同的屏幕尺寸。 

- 使用 WebP：WebP 是一种现代图像格式，可以提供比 JPEG 和 PNG 更好的压缩效果。WebP 文件通常比其他格式更小，但仍然保持高质量。许多现代浏览器都支持 WebP 格式，因此可以考虑使用它来优化图像。（需用时，可以单独判断是否支持，如果不支持，则使用其他格式）

在线图片优化工具-支持 WebP、PNG、JPEG：[tinyjpg.com](https://tinyjpg.com/)


